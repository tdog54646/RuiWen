# RuiWen 

RuiWen æ˜¯ä¸€ä¸ªåŸºäº Spring Boot å’Œ Spring AI æ„å»ºçš„ç°ä»£åŒ–çŸ¥è¯†ç¤¾åŒºå¹³å°ã€‚å®ƒé›†æˆäº† RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ã€å…¨æ–‡æ£€ç´¢ä»¥åŠç¨³å¥çš„åˆ†å¸ƒå¼æ¶æ„ç­‰é«˜çº§ç‰¹æ€§ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

*   **è®¤è¯ä¸å®‰å…¨**ï¼šåŸºäº Spring Security å’Œ OAuth2 Resource Server å®ç°çš„å®‰å…¨ç”¨æˆ·è®¤è¯ï¼Œä½¿ç”¨ JWTï¼ˆRSA ç­¾åï¼‰ã€‚
*   **AI é©±åŠ¨**ï¼š
    *   é›†æˆ **Deepseek** å’Œ **OpenAI**ï¼ˆé€šè¿‡é˜¿é‡Œäº‘ DashScopeï¼‰ã€‚
    *   ä½¿ç”¨ **Elasticsearch** ä½œä¸ºå‘é‡æ•°æ®åº“å®ç° **RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰**ã€‚
*   **å†…å®¹ç®¡ç†**ï¼šæ”¯æŒçŸ¥è¯†å¸–å­ (`knowpost`)ã€ç”¨æˆ·ä¸ªäººèµ„æ–™å’Œç¤¾äº¤å…³ç³»ç®¡ç†ã€‚
*   **æœç´¢å¼•æ“**ï¼šåŸºäº **Elasticsearch** çš„å…¨æ–‡æ£€ç´¢å’Œå‘é‡æœç´¢èƒ½åŠ›ã€‚
*   **é«˜æ€§èƒ½æ¶æ„**ï¼š
    *   **å¤šçº§ç¼“å­˜**ï¼šé‡‡ç”¨ L1 (Caffeine) + L2 (Redis) çš„å¤šçº§ç¼“å­˜ç­–ç•¥ã€‚
    *   **åˆ†å¸ƒå¼é”ä¸é™æµ**ï¼šä½¿ç”¨ **Redisson** å®ç°ã€‚
    *   **å¼‚æ­¥å¤„ç†**ï¼šä½¿ç”¨ **Kafka** æ„å»ºäº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆä¾‹å¦‚ï¼šè®¡æ•°å™¨èšåˆï¼‰ã€‚
*   **æ•°æ®åŒæ­¥**ï¼šä½¿ç”¨ **Canal** å®ç° CDCï¼ˆå˜æ›´æ•°æ®æ•è·ï¼‰ï¼Œå°† MySQL æ•°æ®å®æ—¶åŒæ­¥åˆ° Elasticsearch ç­‰æ•°æ®æºã€‚
*   **æ–‡ä»¶å­˜å‚¨**ï¼šæ”¯æŒ **é˜¿é‡Œäº‘ OSS** å¯¹è±¡å­˜å‚¨ã€‚

## ğŸ›  æŠ€æœ¯æ ˆ

*   **å¼€å‘è¯­è¨€**ï¼šJava 21
*   **æ ¸å¿ƒæ¡†æ¶**ï¼šSpring Boot 3.2.4
*   **AI æ¡†æ¶**ï¼šSpring AI
*   **æ•°æ®åº“**ï¼šMySQL 8.0+
*   **ORM æ¡†æ¶**ï¼šMyBatis
*   **æœç´¢ä¸å‘é‡åº“**ï¼šElasticsearch
*   **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šApache Kafka
*   **ç¼“å­˜**ï¼šRedis, Caffeine
*   **æ•°æ®åŒæ­¥**ï¼šAlibaba Canal
*   **å¯¹è±¡å­˜å‚¨**ï¼šAliyun OSS
*   **å·¥å…·åº“**ï¼šLombok, Maven

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

è¯·ç¡®ä¿æ‚¨çš„ç¯å¢ƒä¸­å·²è¿è¡Œä»¥ä¸‹æœåŠ¡ï¼ˆæ¨èä½¿ç”¨ Dockerï¼‰ï¼š

*   MySQL (ç«¯å£ 3306)
*   Redis (ç«¯å£ 6379)
*   Kafka (ç«¯å£ 9092)
*   Elasticsearch (ç«¯å£ 9201)
*   Canal (ç«¯å£ 11111)

### é…ç½®è¯´æ˜

è¯·æ ¹æ®æ‚¨çš„æœ¬åœ°ç¯å¢ƒæ›´æ–° `src/main/resources/application.yml` é…ç½®æ–‡ä»¶ã€‚

**å…³é”®é…ç½®é¡¹ï¼š**

*   **æ•°æ®åº“**ï¼š`spring.datasource` (url, username, password)
*   **Redis**ï¼š`spring.data.redis`
*   **Kafka**ï¼š`spring.kafka`
*   **Elasticsearch**ï¼š`spring.elasticsearch.uris`
*   **AI å¯†é’¥**ï¼š
    *   `spring.ai.deepseek.api-key`
    *   `spring.ai.openai.api-key`
*   **OSS**ï¼š`oss` (endpoint, keys, bucket)
*   **Canal**ï¼š`canal` (host, port, destination)

### è¿è¡Œåº”ç”¨

1.  **ç”Ÿæˆå¯†é’¥**ï¼šç¡®ä¿ `src/main/resources/keys/` ç›®å½•ä¸‹å­˜åœ¨ç”¨äº JWT ç­¾åçš„ RSA å¯†é’¥å¯¹ (`private.pem`, `public.pem`)ã€‚
2.  **æ„å»ºé¡¹ç›®**ï¼š
    ```bash
    mvn clean package
    ```
3.  **å¯åŠ¨åº”ç”¨**ï¼š
    ```bash
    java -jar target/RuiWen-1.0-SNAPSHOT.jar
    ```
    æˆ–è€…ç›´æ¥åœ¨ IDE ä¸­è¿è¡Œ `RuiWenApplication.java`ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

*   `auth`ï¼šè®¤è¯é€»è¾‘ï¼ˆJWTã€ç™»å½•ï¼‰ã€‚
*   `llm`ï¼šå¤§è¯­è¨€æ¨¡å‹é›†æˆç›¸å…³ä»£ç ã€‚
*   `knowpost`ï¼šçŸ¥è¯†å¸–å­ä¸šåŠ¡é€»è¾‘ã€‚
*   `search`ï¼šæœç´¢æœåŠ¡é›†æˆã€‚
*   `counter`ï¼šåˆ†å¸ƒå¼è®¡æ•°æœåŠ¡ã€‚
*   `cache`ï¼šç¼“å­˜å·¥å…·ä¸é…ç½®ã€‚
*   `storage`ï¼šæ–‡ä»¶å­˜å‚¨æœåŠ¡ã€‚
*   `relation`ï¼šç”¨æˆ·å…³ç³»ç®¡ç†ã€‚

---
*Powered by Spring Boot & Spring AI*
